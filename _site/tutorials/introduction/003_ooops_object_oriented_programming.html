








<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    
  <title>openFrameworks.jp</title>

<!-- syntax highlighting for the documentation -->
<script src="http://localhost:8080/js/shCore.js" type="text/javascript"></script>
<script src="http://localhost:8080/js/shAutoloader.js" type="text/javascript"></script>
<script src="http://localhost:8080/js/shBrushCpp.js" type="text/javascript"></script>
<script src="http://localhost:8080/js/shBrushJava.js" type="text/javascript"></script>
<link href="http://localhost:8080/css/shCore.css" rel="stylesheet" type="text/css" />
<link href="http://localhost:8080/css/shThemeDefault.css" rel="stylesheet" type="text/css" />

<link rel="stylesheet" type="text/css" href="http://localhost:8080/css/style.css" media="all" />
<link rel="stylesheet" type="text/css" href="http://localhost:8080/css/print.css" media="print" />
<link href='http://fonts.googleapis.com/css?family=Questrial' rel='stylesheet' type='text/css'>
<link rel="search" type="application/opensearchdescription+xml" href="http://localhost:8080/opensearch.xml" title="openFrameworks" />

<link rel="shortcut icon" href="http://localhost:8080/favicon.ico" />
<link rel="icon" href="http://localhost:8080/favicon.ico" type="image/x-icon" />

<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.4/jquery.min.js" type="text/javascript"></script>
<script type="text/javascript" src="http://localhost:8080/js/jquery.timeago.js" type="text/javascript"></script>

<meta name="google-site-verification" content="RiGtl9pFuFnUeEQ4MU1miiutTR5mmCPUi38YLCn-M-g" />


    <script src="http://localhost:8080/js/jquery.columnizer.min.js"></script>
    <script src="http://localhost:8080/js/documentation.js"></script>
  </head>
  <body>
    <div id="content">
      
  

<div id="head">

		<div id="head-left">
			<a href="http://localhost:8080" class="nohover"><img src="http://localhost:8080/images/ofw-logo.png" border="0" alt="openFrameworks" /></a>
		</div>

		<div id="head-right">
		<ul>
		
	        <li><a href="http://localhost:8080/about" class="">about</a></li>
	        <li><a href="http://localhost:8080/download" class="" >download</a></li>
	        <li><a href="http://localhost:8080/documentation" class="active">documentation</a></li>
	        <li><a href="http://localhost:8080/gallery" class="">gallery</a></li>
	        <li><a href="http://localhost:8080/community" class="">community</a></li> 
		</ul>
		
		<ul class="menu-externals">
			<li><span class="external-dot"> ></span>&nbsp;<a href="http://forum.openframeworks.cc/index.php" target="_blank">forum</a></li>
			<li><span class="external-dot"> ></span>&nbsp;<a href="http://ofxaddons.com" target="_blank">addons</a></li>
			<li><span class="external-dot"> ></span>&nbsp;<a href="http://wiki.openframeworks.cc/" target="_blank">wiki</a></li>
			<li><span class="external-dot"> ></span>&nbsp;<a href="http://github.com/openframeworks/openFrameworks" target="_blank">github</a></li>
			<li><span class="external-dot"> ></span>&nbsp;<a href="http://openframeworks.cc/list-info" target="_blank">mailing list</a></li>
		</ul>
			<!--form method="get" id="searchform" action="/index.php">
			<input type="text" value="" name="s" id="s" class="search_input" /> <input type="submit" value="Search" class="search_button"/>
			</form-->
			<!--form method="post" action="http://scripts.dreamhost.com/add_list.cgi">
                <input type="hidden" name="list" value="list@openframeworks.cc" />
                <input type="hidden" name="domain" value="openframeworks.cc" />
                <input type="hidden" name="url" value="http://openframeworks.cc/list-info/subscribe.html"  />
                <input type="hidden" name="unsuburl" value="http://openframeworks.cc/list-info/unsubscribe.html" />
                <input type="hidden" name="alreadyonurl" value="http://openframeworks.cc/list-info/already.html" />
                <input type="hidden" name="notonurl" value="http://openframeworks.cc/list-info/not.html" />
                <input type="hidden" name="invalidurl" value="http://openframeworks.cc/list-info/invalid.html" />
                <input type="hidden" name="emailconfirmurl" value="http://openframeworks.cc/list-info/confirm.html" />
                <input type="hidden" name="emailit" value="1" />
                name: <input name="name" /> <br />
                email: <input name="email" /><br />
                <span class='but'><input type="submit" name="submit" value="subscribe" /></span> <br/ >
                <span class='but'><input type="submit" name="unsub" value="unsubscribe" /></span>
            </form-->
		</div>
</div><!-- head -->



      <div id="body-wrap">	
	    <div class="page-wide">
            <ul class="submenu">
                <li><a href="/documentation">reference</a></li>
                <li><a href="/tutorials">tutorials</a></li>
            </ul>

            
            <h1>tutorials</h1>    


        	<div class="submenucol-left">
        	    <ul class="categories">
                        <li><a href="/tutorials/introduction">introduction</a></li>
                        <li><a href="/tutorials/firstSteps">firstSteps</a></li>
                        <li><a href="/tutorials/maths">maths</a></li>
                        <li><a href="/tutorials/videos">videos</a></li>
                        <li><a href="/tutorials/developers">developers</a></li>
                </ul>
            </div><!-- End Page Wide -->

        	<div class="submenucol-right">
        	    <h2>Ooops! = Object Oriented Programming + Classes</h2>
        	    <span class="article_meta">2008/03/20 20:18:00&nbsp;&nbsp;&nbsp;-&nbsp;&nbsp;&nbsp;<a href="">Rux</a></span><br/>
        	    <div class="article">
        	    
  <h2>Contents</h2>
<ul>
<li><a href="file:///home/arturo/Downloads/ittyeditor-read-only/ittyeditor-example.html#Overview">1 Overview</a></li>
<li><a href="file:///home/arturo/Downloads/ittyeditor-read-only/ittyeditor-example.html#What_is_OOP">2 What is OOP</a></li>
<li><a href="file:///home/arturo/Downloads/ittyeditor-read-only/ittyeditor-example.html#How_to_build_your_own_Classes">3 How to build your own Classes</a></li>
<li><a href="file:///home/arturo/Downloads/ittyeditor-read-only/ittyeditor-example.html#make_objects_from_your_own_Classes">4 make objects from your own Classes</a></li>
<li><a href="file:///home/arturo/Downloads/ittyeditor-read-only/ittyeditor-example.html#make_objects_from_your_own_Classes_-_part_2">5 make objects from your own Classes - part 2</a></li>
<li><a href="file:///home/arturo/Downloads/ittyeditor-read-only/ittyeditor-example.html#make_objects_from_your_own_Classes_-_part_2.1">6 make objects from your own Classes - part 2.1</a></li>
<li><a href="file:///home/arturo/Downloads/ittyeditor-read-only/ittyeditor-example.html#make_objects_from_your_own_Classes_-_part_3">7 make objects from your own Classes - part 3</a></li>
<li><a href="file:///home/arturo/Downloads/ittyeditor-read-only/ittyeditor-example.html#make_objects_from_your_own_Classes_-_part_4">8 make objects from your own Classes - part 4</a></li>
</ul>
<h2>Overview</h2>
<p>This tutorial is an quick introduction to Object Oriented Programming in OpenFrameworks and a how-to guide to build and use your own classes.<br />
</p>
<p>Examples used are based on Mikkel Koser's ofBall class. <a href="http://openframeworks.cc/forum/viewtopic.php?t=428" title="http://openframeworks.cc/forum/viewtopic.php?t=428">See forum thread here</a> <br />
</p>
<h2>What is OOP</h2>
<p>Object Oriented Programming is a programming paradigm based on the use of objects and their interactions.
some definitions:</p>
<p>-a Class defines the characteristics of a thing - the object - and its behaviors; it defines not only its properties and attributes but also what it can do.</p>
<p>-an Object is an instance of a class.</p>
<p>-the Methods are the objects abilities and how we can call them.</p>
<p>A recurring analogy is to see a Class as a the cookie cutter and the cookies as the Objects.</p>
<h2>How to build your own Classes</h2>
<p>Classes and objects are similar to the concepts of movie clips and instances in Flash and are also a fundamental part of Java programming.
If you have a background in Java and/or Processing this other tutorial will be useful. <a href="http://wiki.openframeworks.cc/index.php?title=OF_for_Processing_users" title="http://wiki.openframeworks.cc/index.php?title=OF_for_Processing_users">OF_for_P5_users</a></p>
<p>This is how you declare a Class -> in the header file (*.h), otherwise known as the declarations file. In this case, the file name should be ofBall.h
<a href="file:///index.php?title=Image:Ex1-ball_h.jpg" title="Image:ex1-ball_h.jpg"><img alt="Image:ex1-ball_h.jpg" src="file:///images/e/e3/Ex1-ball_h.jpg" /></a></p>
<pre><code class="cpp">    #ifndef _OF_BALL // if this class hasn't been defined, the program can define it
    #define _OF_BALL // by using this if statement you prevent the class to be called more 
                     // than once which would confuse the compiler

    #include &quot;ofMain.h&quot;

    class ofBall {

                   public: // place public functions or variables declarations here

            // methods, equivalent to specific functions of your class objects
                   void update(); // update method, used to refresh your objects properties
                void draw(); // draw method, this where you'll do the object's drawing 

            // variables
            float x; // position
            float y;
            float speedY; // speed and direction
            float speedX;
            int dim; // size

                ofBall(); // constructor - used to initialize an object, if no properties are passed
                              //               the program sets them to the default value

                   private: // place private functions or variables declarations here

    }; // dont't forget the semicolon!!

    #endif 
</code></pre>

<p>We have declared the Ball class header filer (the list of ingredients) and now lets get to the cooking part -> what to do with the ingredients!
Please notice the '#include' tag, this is a way to tell the compiler which file to include for each implementation file. When the program is compiled these '#include' tags will be replaced by the original file they're referring to.
The 'if statement' (#ifndef) is a way to prevent the repetition of header files which could easily occur. Here's an example of how easily this could happen due to the recursive structure of the program:
Lets say we're building a Pool game, we'll have the testApp class, dependent on this there will be the pool table class and also the pool stick class and as both of these will be needed for our balls colision detection function both will refer to the ball class individually. If we didn't use the '#ifndef' 'if' statement the compiler would try to compile the ball class repeatedly and would find some conflicts.</p>
<p><a href="file:///index.php?title=Image:Ex-ifndef.jpg" title="Image:ex-ifndef.jpg"><img alt="Image:ex-ifndef.jpg" src="003_images/Ex-ifndef.jpg" /></a></p>
<p>Here's how you can write the class *.cpp file, the implementation file:</p>
<pre><code class="cpp">    #include &quot;ofBall.h&quot;

    ofBall::ofBall()
    {
        x = ofRandom(0, ofGetWidth());      // give some random positioning
        y = ofRandom(0, ofGetHeight());
            speedX = ofRandom(-1, 1);           // and random speed and direction
        speedY = ofRandom(-1, 1);
            dim = 20;

    }

    void ofBall::update(){

        if(x &lt; 0 ){
                x = 0;
                speedX *= -1;
        } else if(x &gt; ofGetWidth()){
                x = ofGetWidth();
                speedX *= -1;
        }

        if(y &lt; 0 ){
                y = 0;
                speedY *= -1;
        } else if(y &gt; ofGetHeight()){
                y = ofGetHeight();
                speedY *= -1;
        } 

        x+=speedX;
        y+=speedY;

    }

    void ofBall::draw(){
            // values for R, G, B
        ofSetColor(120,120,120);
        ofCircle(x, y, dim);

    } 
</code></pre>

<p><a href="file:///index.php?title=Image:Ex1-ball_cpp.jpg" title="Image:ex1-ball_cpp.jpg"><img alt="Image:ex1-ball_cpp.jpg" src="003_images/Ex1-ball_cpp.jpg" /></a></p>
<h2>make objects from your own Classes</h2>
<p>now that we've created a class let's make the real object!
in your testapp.h (header file) we'll have to add declare a new object and get some free memory for it. this is how we do it:</p>
<p><a href="file:///index.php?title=Image:Ex1-h.jpg" title="Image:ex1-h.jpg"><img alt="Image:ex1-h.jpg" src="003_images/Ex1-h.jpg" /></a></p>
<pre><code class="cpp">        ofBall myBall;
</code></pre>

<p>and finally let's get that ball bouncing on screen!
go to your project testapp.cpp (implementation) file. now that we've created the object we just need to draw it and update its values by calling its methods.
in the update() function add:</p>
<p><a href="file:///index.php?title=Image:Ex1-cpp.jpg" title="Image:ex1-cpp.jpg"><img alt="Image:ex1-cpp.jpg" src="003_images/Ex1-cpp.jpg" /></a></p>
<pre><code class="cpp">            myBall.update();                                // calling the object's update method
</code></pre>

<p>and in the draw() function lets add:</p>
<pre><code class="cpp">            myBall.draw();                                  // call the draw method to draw the object
</code></pre>

<p>compile and run!
by now you must be seeing a bouncing ball on the screen! great!</p>
<p><a href="http://www.essaycollective.org/personal/rx/patcher/of-werx/object-ballclass_example1.zip" title="http://www.essaycollective.org/personal/rx/patcher/of-werx/object-ballclass_example1.zip">source code download here</a></p>
<h2>make objects from your own Classes - part 2</h2>
<p>you're probably asking yourself now why did you have so much trouble just to create a bouncing ball. You could have done this (and you've probably done it!) without using classes. In fact one of the advantages of using classes is to be able to create multiple individual objects with the same characteristics. 
So, lets do that now!
going back to your testApp.h file we'll just need to create a couple of new objects:</p>
<pre><code class="cpp">         ofBall myBall1;
         ofBall myBall2;
         ofBall myBall3;
</code></pre>

<p><a href="file:///index.php?title=Image:Ex2-h.jpg" title="Image:ex2-h.jpg"><img alt="Image:ex2-h.jpg" src="003_images/Ex2-h.jpg" /></a></p>
<p>And in the implementation file (*.cpp) just call the corresponding methods for each of the objects.</p>
<p>in the testApp's update() function:</p>
<pre><code class="cpp">        myBall1.update();
        myBall2.update();
        myBall3.update();
</code></pre>

<p>and also in the draw() function:</p>
<pre><code>    myBall1.draw();
    myBall2.draw();
    myBall3.draw();
</code></pre>
<p><a href="file:///index.php?title=Image:Ex2-cpp.jpg" title="Image:ex2-cpp.jpg"><img alt="Image:ex2-cpp.jpg" src="003_images/Ex2-cpp.jpg" /></a></p>
<p><a href="file:///index.php?title=Image:Ex2Ball.jpg" title="Image:ex2Ball.jpg"><img alt="Image:ex2Ball.jpg" src="003_images/Ex2Ball.jpg" /></a></p>
<p><a href="http://www.essaycollective.org/personal/rx/patcher/of-werx/object-ballclass_example2.zip" title="http://www.essaycollective.org/personal/rx/patcher/of-werx/object-ballclass_example2.zip">source code download here</a></p>
<h2>make objects from your own Classes - part 2.1</h2>
<p>We've just created 3 objects but what if we wanted to created 10, 100 or may be 1000's of them?! hardcoding one by one would be a painful and long process that can be easily solved by automating the object creation and function calls. Just by using a couple for loops we'll be making this process way simpler and cleaner.
Instead of declaring a list of objects one by one we'll just create an array of objects of type 'ofBall'. We'll also introduce another new element: a constant. Constants are defined after the #includes as #define CONSTANT_NAME value. This is a way of defining a constant value that won't be ever changed in the program:</p>
<pre><code class="cpp">        #define NBALLS 5
</code></pre>

<p>we'll now use the CONSTANT value to define the size of our array of objects:</p>
<pre><code class="cpp">        ofBall myBall[NBALLS];
</code></pre>

<p><a href="file:///index.php?title=Image:Ex21h.jpg" title="Image:ex21h.jpg"><img alt="Image:ex21h.jpg" src="003_images/Ex21h.jpg" /></a></p>
<p>back to our implementation file we'll just need to create an array of objects and call their methods through 'for' loops.</p>
<p>in the update() function:</p>
<pre><code class="cpp">        for(int i=0; i&lt;NBALLS; i++)
        {
            myBall[i].update();
        }
</code></pre>

<p>in the draw() function:</p>
<pre><code class="cpp">        for(int i=0; i&lt;NBALLS; i++)
        {
            myBall[i].draw();
        }
</code></pre>

<p><a href="file:///index.php?title=Image:Ex21cpp.jpg" title="Image:ex21cpp.jpg"><img alt="Image:ex21cpp.jpg" src="003_images/Ex21cpp.jpg" /></a></p>
<p><a href="file:///index.php?title=Image:Ex21Ball.jpg" title="Image:ex21Ball.jpg"><img alt="Image:ex21Ball.jpg" src="003_images/Ex21Ball.jpg" /></a></p>
<p><a href="http://www.essaycollective.org/personal/rx/patcher/of-werx/object-ballclass_example2-1.zip" title="http://www.essaycollective.org/personal/rx/patcher/of-werx/object-ballclass_example2-1.zip">source code download here</a></p>
<h2>make objects from your own Classes - part 3</h2>
<p>As we've seen each of the objects has a set of properties defined by its variables (position, speed and direction and dimension).
Another advantage of object oriented programming is that the objects created can have different values on each of its properties.
For us to be able to have better control of each object we can have a constructor which defines these characteristics and lets us access them.
In the ofBall definitions file (*.h) we can change the constructor to include some of the objects properties (lets say position and dimension):</p>
<pre><code class="cpp">        ofBall(float x, float y, int dim);
</code></pre>

<p>As we've changed the constructor we'll need to update the ofBall implementation (*.cpp) file to reflect these.</p>
<pre><code class="cpp">    ofBall::ofBall(float _x, float _y, int _dim)
    {
        x = _x;
        y = _y;
        dim = _dim;

        speedX = ofRandom(-1, 1);
        speedY = ofRandom(-1, 1);

    }
</code></pre>

<p>By implementing these changes we'll also need to create space in memory for these objects. We'll do this by creating a pointer (a reference in memory) for each object.
Back to the testApp.h (definitions) file we'll declare a new object like this:</p>
<pre><code class="cpp">        ofBall *myBall;  
</code></pre>

<p><a href="file:///index.php?title=Image:Ex3-h.jpg" title="Image:ex3-h.jpg"><img alt="Image:ex3-h.jpg" src="003_images/Ex3-h.jpg" /></a></p>
<p>The star means it will be created in a reserved part of memory just for it.</p>
<p>Now in the TestApp.cpp file we will need to create the object in the setup and we'll call the objects methods on the draw() and update() functions in a different way than we've been doing before.
in the setup() :</p>
<pre><code class="cpp">                   // x-position,       y-position,       size
    myBall = new ofBall(ofRandom(300,400), ofRandom(200,300), ofRandom(10,40));
</code></pre>

<p>As you see it is now possible to directly control the objects properties on its creation.
and now we'll just need to update and draw it.</p>
<pre><code class="cpp">    myBall-&gt;update();

    myBall-&gt;draw();
</code></pre>

<p><a href="file:///index.php?title=Image:Ex3-cpp.jpg" title="Image:ex3-cpp.jpg"><img alt="Image:ex3-cpp.jpg" src="003_images/Ex3-cpp.jpg" /></a></p>
<p><a href="file:///index.php?title=Image:Ex3Ball.jpg" title="Image:ex3Ball.jpg"><img alt="Image:ex3Ball.jpg" src="003_images/Ex3Ball.jpg" /></a></p>
<p><a href="http://www.essaycollective.org/personal/rx/patcher/of-werx/object-ballclass_example3.zip" title="http://www.essaycollective.org/personal/rx/patcher/of-werx/object-ballclass_example3.zip">source code download here</a></p>
<h2>make objects from your own Classes - part 4</h2>
<p>we're now at the last part of this how-to tutorial on classes and objects. this part will now demonstrate an automation process to create objects from our previously built class. We'll be creating objects through arrays as we did in part 2.1 with some minor changes:</p>
<pre><code class="cpp">        ofBall** myBall;   // an array of pointers of type ofBall
        int nBalls;        //variable for the number of balls 
</code></pre>

<p><a href="file:///index.php?title=Image:Ex4-h.jpg" title="Image:ex4-h.jpg"><img alt="Image:ex4-h.jpg" src="003_images/Ex4-h.jpg" /></a></p>
<p>As we're creating an array of objects, instead of creating one pointer only we'll also have to create an array of pointers. 
That's why we have two 'stars' and not one in the declarations(*.h) file. We have created a pointer to an array of pointers.
Let's see how we'll create and call these objects in the implementation (*.cpp) file:</p>
<pre><code class="cpp">        nBalls = 5; // the number of ball objects we want to create

        myBall = new ofBall*[nBalls];   // an array of pointers for the objects

            for (int i = 0; i &lt; nBalls; i++){
                float x = 20+(100*i);     //using the value of the counter variable(i) to differentiate them
                float y = 20+(100*i);
                int dim = 10+(i*10);

                myBall[i] = new ofBall(x,y,dim);  //create each object from the array
            }
</code></pre>

<p>similarly when we want to draw and update the objects we've created we'll need 'for' loops to run through the array.</p>
<pre><code class="cpp">            for (int i = 0; i &lt; nBalls; i++){
                myBall[i]-&gt;update();
            }

            for (int i = 0; i &lt; nBalls; i++){
                myBall[i]-&gt;draw();
            }
</code></pre>

<p><a href="file:///index.php?title=Image:Ex4-cpp.jpg" title="Image:ex4-cpp.jpg"><img alt="Image:ex4-cpp.jpg" src="003_images/Ex4-cpp.jpg" /></a></p>
<p><a href="file:///index.php?title=Image:Ex4Ball.jpg" title="Image:ex4Ball.jpg"><img alt="Image:ex4Ball.jpg" src="003_images/Ex4Ball.jpg" /></a></p>
<p><a href="http://www.essaycollective.org/personal/rx/patcher/of-werx/object-ballclass_example4.zip" title="http://www.essaycollective.org/personal/rx/patcher/of-werx/object-ballclass_example4.zip">source code download here</a></p>

        		</div>
            </div><!-- End Page Wide -->
        
    	

    	</div>
              
      </div><!-- End Body Wrap -->
      
      <div id="footer">
        
  <p id="credits">

Last updated 
  
Saturday, 25 February 2012 21:12:41 UTC
&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://github.com/openframeworks/ofSite/commit/

0b7959ad7effdc82fb615f938dce0989390d317a
">

0b7959ad7effdc82fb615f938dce0989390d317a
</a>

<!--br/>RSS feeds for <a href="/blog/feed">Entries</a-->

<br/>

</p>




<!--tracking -->
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-9614675-1");
pageTracker._trackPageview();
} catch(err) {}</script>








      </div> <!-- End Footer -->
    </div> <!-- End Content -->
  </body>
</html>







